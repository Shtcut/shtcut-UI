{"version":3,"file":"index.js","names":["_react","require","_assertion","createContext","options","name","_options$strict","strict","errorMessage","Context","ReactCreateContext","undefined","__DEV__","displayName","useContext","context","ReactUseContext","error","Error","replace","captureStackTrace","Provider"],"sources":["../../../src/context/index.ts"],"sourcesContent":["import { Context, createContext as ReactCreateContext, useContext as ReactUseContext, Provider } from 'react';\nimport { __DEV__ } from '../assertion';\n\nexport type CreateContextOptions = {\n  name: string;\n  strict?: boolean;\n  errorMessage?: string;\n};\n\ntype CreateContextReturn<T> = [Provider<T>, () => T, Context<T>];\n\nexport function createContext<ContextValueType>(options: CreateContextOptions) {\n  const { name, strict = true, errorMessage } = options;\n\n  const Context = ReactCreateContext<ContextValueType | undefined>(undefined);\n\n  if (__DEV__) {\n    Context.displayName = name;\n  }\n\n  const useContext = () => {\n    const context = ReactUseContext(Context);\n\n    if (context == undefined && strict) {\n      const error = new Error(\n        errorMessage ??\n          `use${name.replace(\n            'Context',\n            '',\n          )} return \\`undefined\\`. Seems you forgot to wrap component within ${name.replace('Context', 'Provider')}`,\n      );\n\n      error.name = 'Context';\n      Error.captureStackTrace?.(error, useContext);\n      throw error;\n    }\n    return context;\n  };\n  return [Context.Provider, useContext, Context] as CreateContextReturn<ContextValueType>;\n}\n"],"mappings":";;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AACA,IAAAC,UAAA,GAAAD,OAAA;AAUO,SAASE,aAAaA,CAAmBC,OAA6B,EAAE;EAC7E,IAAQC,IAAI,GAAkCD,OAAO,CAA7CC,IAAI;IAAAC,eAAA,GAAkCF,OAAO,CAAvCG,MAAM;IAANA,MAAM,GAAAD,eAAA,cAAG,IAAI,GAAAA,eAAA;IAAEE,YAAY,GAAKJ,OAAO,CAAxBI,YAAY;EAEzC,IAAMC,OAAO,gBAAG,IAAAC,oBAAkB,EAA+BC,SAAS,CAAC;EAE3E,IAAIC,kBAAO,EAAE;IACXH,OAAO,CAACI,WAAW,GAAGR,IAAI;EAC5B;EAEA,IAAMS,UAAU,GAAG,SAAbA,UAAUA,CAAA,EAAS;IACvB,IAAMC,OAAO,GAAG,IAAAC,iBAAe,EAACP,OAAO,CAAC;IAExC,IAAIM,OAAO,IAAIJ,SAAS,IAAIJ,MAAM,EAAE;MAClC,IAAMU,KAAK,GAAG,IAAIC,KAAK,CACrBV,YAAY,WAAZA,YAAY,WACJH,IAAI,CAACc,OAAO,CAChB,SAAS,EACT,EACF,CAAC,uEAAoEd,IAAI,CAACc,OAAO,CAAC,SAAS,EAAE,UAAU,CAC3G,CAAC;MAEDF,KAAK,CAACZ,IAAI,GAAG,SAAS;MACtBa,KAAK,CAACE,iBAAiB,YAAvBF,KAAK,CAACE,iBAAiB,CAAGH,KAAK,EAAEH,UAAU,CAAC;MAC5C,MAAMG,KAAK;IACb;IACA,OAAOF,OAAO;EAChB,CAAC;EACD,OAAO,CAACN,OAAO,CAACY,QAAQ,EAAEP,UAAU,EAAEL,OAAO,CAAC;AAChD"}