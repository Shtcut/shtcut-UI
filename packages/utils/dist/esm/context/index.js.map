{"version":3,"file":"index.js","names":["createContext","ReactCreateContext","useContext","ReactUseContext","__DEV__","options","name","strict","errorMessage","Context","undefined","displayName","context","error","Error","replace","captureStackTrace","Provider"],"sources":["../../../src/context/index.ts"],"sourcesContent":["import { Context, createContext as ReactCreateContext, useContext as ReactUseContext, Provider } from 'react';\nimport { __DEV__ } from '../assertion';\n\nexport type CreateContextOptions = {\n  name: string;\n  strict?: boolean;\n  errorMessage?: string;\n};\n\ntype CreateContextReturn<T> = [Provider<T>, () => T, Context<T>];\n\nexport function createContext<ContextValueType>(options: CreateContextOptions) {\n  const { name, strict = true, errorMessage } = options;\n\n  const Context = ReactCreateContext<ContextValueType | undefined>(undefined);\n\n  if (__DEV__) {\n    Context.displayName = name;\n  }\n\n  const useContext = () => {\n    const context = ReactUseContext(Context);\n\n    if (context == undefined && strict) {\n      const error = new Error(\n        errorMessage ??\n          `use${name.replace(\n            'Context',\n            '',\n          )} return \\`undefined\\`. Seems you forgot to wrap component within ${name.replace('Context', 'Provider')}`,\n      );\n\n      error.name = 'Context';\n      Error.captureStackTrace?.(error, useContext);\n      throw error;\n    }\n    return context;\n  };\n  return [Context.Provider, useContext, Context] as CreateContextReturn<ContextValueType>;\n}\n"],"mappings":"AAAA,SAAkBA,aAAa,IAAIC,kBAAkB,EAAEC,UAAU,IAAIC,eAAe,QAAkB,OAAO;AAC7G,SAASC,OAAO,QAAQ,cAAc;AAUtC,OAAO,SAASJ,aAAaA,CAAmBK,OAA6B,EAAE;EAC7E,IAAM;IAAEC,IAAI;IAAEC,MAAM,GAAG,IAAI;IAAEC;EAAa,CAAC,GAAGH,OAAO;EAErD,IAAMI,OAAO,gBAAGR,kBAAkB,CAA+BS,SAAS,CAAC;EAE3E,IAAIN,OAAO,EAAE;IACXK,OAAO,CAACE,WAAW,GAAGL,IAAI;EAC5B;EAEA,IAAMJ,UAAU,GAAGA,CAAA,KAAM;IACvB,IAAMU,OAAO,GAAGT,eAAe,CAACM,OAAO,CAAC;IAExC,IAAIG,OAAO,IAAIF,SAAS,IAAIH,MAAM,EAAE;MAClC,IAAMM,KAAK,GAAG,IAAIC,KAAK,CACrBN,YAAY,WAAZA,YAAY,WACJF,IAAI,CAACS,OAAO,CAChB,SAAS,EACT,EACF,CAAC,uEAAoET,IAAI,CAACS,OAAO,CAAC,SAAS,EAAE,UAAU,CAC3G,CAAC;MAEDF,KAAK,CAACP,IAAI,GAAG,SAAS;MACtBQ,KAAK,CAACE,iBAAiB,YAAvBF,KAAK,CAACE,iBAAiB,CAAGH,KAAK,EAAEX,UAAU,CAAC;MAC5C,MAAMW,KAAK;IACb;IACA,OAAOD,OAAO;EAChB,CAAC;EACD,OAAO,CAACH,OAAO,CAACQ,QAAQ,EAAEf,UAAU,EAAEO,OAAO,CAAC;AAChD"}